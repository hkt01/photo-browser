(this["webpackJsonpphoto-browser"]=this["webpackJsonpphoto-browser"]||[]).push([[0],{47:function(e,t,a){e.exports=a(81)},52:function(e,t,a){},53:function(e,t,a){},72:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=(a(52),a(23)),i=a(16),s=(a(53),a(54),a(11)),u=a(12),m=a(14),g=a(13),h=a(15),p=a(22),d=a.n(p),f=a(25),b=a(26),E=a(18),v=a(19),O=(a(72),"LEFT"),j="RIGHT",y=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},P=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages));a.setState({currentPage:r},(function(){return n(r)}))},a.handleClick=function(e){return function(t){t.preventDefault(),a.gotoPage(e)}},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+2*a.pageNeighbours+1)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage,n=a.pageNeighbours,r=2*a.pageNeighbours+3;if(e>r+2){var o=Math.max(2,t-n),l=Math.min(e-1,t+n),c=y(o,l),i=o>2,s=e-l>1,u=r-(c.length+1);switch(!0){case i&&!s:var m=y(o-u,o-1);c=[O].concat(Object(v.a)(m),Object(v.a)(c));break;case!i&&s:var g=y(l+1,l+u);c=[].concat(Object(v.a)(c),Object(v.a)(g),[j]);break;case i&&s:default:c=[O].concat(Object(v.a)(c),[j])}return[1].concat(Object(v.a)(c),[e])}return y(1,e)};var n=e.totalRecords,r=void 0===n?null:n,o=e.pageLimit,l=void 0===o?30:o,c=e.pageNeighbours,i=void 0===c?0:c;return a.pageLimit="number"===typeof l?l:30,a.totalRecords="number"===typeof r?r:0,a.pageNeighbours="number"===typeof i?Math.max(0,Math.min(i,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords||1===this.totalPages)return null;var t=this.state.currentPage,a=this.fetchPageNumbers();return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{"aria-label":"Images Pagination"},r.a.createElement("ul",{className:"pagination"},a.map((function(a,n){return a===O?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"!#","aria-label":"Previous",onClick:e.handleMoveLeft},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))):a===j?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"!#","aria-label":"Next",onClick:e.handleMoveRight},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement("li",{key:n,className:"page-item".concat(t===a?" active":"")},r.a.createElement("a",{className:"page-link",href:"!#",onClick:e.handleClick(a)},a))})))))}}]),t}(n.Component),I=a(24),k=a(17);var N=function(e){var t=e.image;return r.a.createElement(k.a,{className:"thumbnailImage"},r.a.createElement(c.b,{to:{pathname:"/photo-browser/image/"+t.id,state:{image:t}}},r.a.createElement("img",{src:t.thumbnailUrl,alt:t.title})))},C=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.images;return r.a.createElement(I.a,null,e&&e.map((function(e,t){return r.a.createElement(N,{image:e,key:e.id})})))}}]),t}(n.Component),L=a(46);a(78);var w=function(){var e=Object(n.useState)(!1),t=Object(L.a)(e,2),a=t[0],o=t[1];function l(){o(!0)}return Object(n.useEffect)((function(){var e=setTimeout(l,250);return function(){clearTimeout(e)}})),a?r.a.createElement("div",{className:"loader"},"Loading..."):null},x=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(g.a)(t).call(this))).fetchImages=function(){d.a.get("https://jsonplaceholder.typicode.com/photos?_page=".concat(e.state.currentPage,"&_limit=").concat(e.state.pageLimit)).then((function(t){var a=t.data,n=parseInt(t.headers["x-total-count"]);e.setState({images:a,totalCount:n,loading:!1})})).catch((function(t){console.log(t.response),e.setState({loading:!1,error:t.response.statusText})}))},e.setPagination=function(t){e.setState({currentPage:t},e.fetchImages)},e.state={images:[],totalCount:0,currentPage:1,pageLimit:24,pageNeighbours:2,loading:!1,error:null},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0},(function(){this.fetchImages()}))}},{key:"render",value:function(){return r.a.createElement(f.a,{fluid:!1},r.a.createElement(E.a,null,r.a.createElement(E.a.Item,{active:!0},"Images")),this.state.totalCount&&r.a.createElement(P,{totalRecords:this.state.totalCount,pageLimit:this.state.pageLimit,pageNeighbours:this.state.pageNeighbours,onPageChanged:this.setPagination}),this.state.loading?r.a.createElement(w,null):this.state.error?r.a.createElement(b.a,{variant:"danger"},this.state.error):r.a.createElement(C,{images:this.state.images}))}}]),t}(n.Component),M=a(5);var S=function(e){var t=e.image;return r.a.createElement(I.a,null,r.a.createElement(k.a,null,r.a.createElement("img",{src:t.url,alt:t.title})),r.a.createElement(k.a,null,r.a.createElement(M.a,null,r.a.createElement(M.a.Group,{controlId:"albumId"},r.a.createElement(M.a.Label,null,"Album ID:"),r.a.createElement(M.a.Control,{type:"text",readOnly:!0,defaultValue:t.albumId})),r.a.createElement(M.a.Group,{controlId:"imageId"},r.a.createElement(M.a.Label,null,"Image ID:"),r.a.createElement(M.a.Control,{type:"text",readOnly:!0,defaultValue:t.id})),r.a.createElement(M.a.Group,{controlId:"imageTitle"},r.a.createElement(M.a.Label,null,"Title:"),r.a.createElement(M.a.Control,{type:"text",readOnly:!0,defaultValue:t.title})),r.a.createElement(M.a.Group,{controlId:"imageUrl"},r.a.createElement(M.a.Label,null,"URL:"),r.a.createElement(M.a.Control,{type:"text",readOnly:!0,defaultValue:t.url})),r.a.createElement(M.a.Group,{controlId:"imageThumbnailUrl"},r.a.createElement(M.a.Label,null,"Thumbnail URL:"),r.a.createElement(M.a.Control,{type:"text",readOnly:!0,defaultValue:t.thumbnailUrl})))))},R=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(g.a)(t).call(this))).fetchImage=function(t){d.a.get("https://jsonplaceholder.typicode.com/photos/".concat(t)).then((function(t){var a=t.data;e.setState({image:a,loading:!1})})).catch((function(t){console.log(t.response),e.setState({loading:!1,error:t.response.statusText})}))},e.state={image:{},loading:!1,error:null},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state?this.props.location.state.image:null;if(e)this.setState({image:e});else{var t=this.props.match.params.id;this.setState({loading:!0},(function(){this.fetchImage(t)}))}}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Item,{href:"/photo-browser"},"Images"),r.a.createElement(E.a.Item,{active:!0},"Single image")),this.state.loading?r.a.createElement(w,null):this.state.error?r.a.createElement(b.a,{variant:"danger"},this.state.error):r.a.createElement(S,{image:this.state.image}))}}]),t}(n.Component);var T=function(){return r.a.createElement(c.a,null,r.a.createElement("header",null,r.a.createElement("h1",null,"Photo Browser")),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/photo-browser/image/:id",component:R}),r.a.createElement(i.b,{path:"/photo-browser"},r.a.createElement(x,null)),r.a.createElement(i.a,{from:"/",to:"/photo-browser"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.45b0a431.chunk.js.map